name: E2E Test
on:
  pull_request:
    branches: [main]
  workflow_dispatch:

jobs:
  e2e:
    # Ensure only one run is active at a time
    concurrency:
      group: ${{ github.workflow }}-${{ github.event.pull_request.number || github.ref }}
      cancel-in-progress: true

    uses: gregoryAndrikopoulos/regnat/.github/workflows/shared_workflow.yml@main
    secrets: inherit
    with:
      npm_script: "pnpm test:e2e"
